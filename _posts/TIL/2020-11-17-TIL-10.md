---
layout: post
title: "[TIL] 10일차 20.11.17"
categories: [TIL]
tags: [til]
---

### 오늘 한 일
* 어셈블리 코드 고치기
> N msec 동안의 에너지 값, core cycle을 측정할 수 있는 코드를 만들었다. <br>원래는 사용자 입력으로 초를 주고 해당 초만큼 어셈블리 코드를 돌린 다음, 그동안의 core cycle 을 측정하는 코드를 작성하고 싶었는데, 미팅 전까지 남은 시간 대비 삽질해야 하는 것들이 많다고 느껴지면서 시간 내에 완성하기 위해 다른 방법을 시도해보기로 했다. <br>기존 bhive 코드에서 unrolled basic block을 실행하는 부분을 없애고 loop를 두어 계속 돌게 했다. loop 한 번을 돌 때마다 레지스터(tick counter) 값을 1씩 증가시켜 N msec 마다 몇 개의 tick이 생성되는지 측정했다. <br> N msec을 카운트한 방법은 다음과 같다. RAPL이 레지스터 값을 1 msec 마다 업데이트 하기 때문에, 레지스터 값이 바뀌면 1 msec이 지난 것을 의미하기에, 레지스터 값이 바뀌는 횟수를 N 번 카운트했다. <br> 1msec = 0.001sec 이므로 레지스터 값이 바뀌는 시점을 1000번 카운트했을 때(즉, 1000 msec이 지났을 때) 1초 동안의 tick 개수와 core cycle 값을 알 수 있다.




<br><br>
저녁 클라이밍. 양재 클라이밍장에 처음 갔다. 세팅이 바뀌는 날이라 사람이 많았댄다. 엄청 많았다. 마스크 때문에 숨 쉬기가 힘들었지만 처음으로 초록색 문제 깬 날!
