---
layout: post
title: "[TIL] 2일차 20.11.05"
categories: [TIL]
tags: [til]
---

### Bhive
> RAPL은 1ms 단위로 MSR 레지스터를 읽는다. 지금 해야 하는 일은 basic block을 실행시켰을 때의 에너지 값을 읽는 것이다. 하지만 basic block의 수행 시간이 짧아, 레지스터를 읽는 타이밍을 잘 맞추지 않으면 엉뚱한 값이 읽힌다. 따라서 적절한 타이밍에(즉, 레지스터 값이 업데이트 된 다음 직후에) 에너지 값을 읽는 것이 중요하다.

* BHive의 어셈블리 코드를 수정하여 레지스터 값이 업데이트 된 직후에 basic block을 실행하도록 하였다. <br> 즉, while문을 이용하여 n 시점에 읽은 레지스터 값과 n+1 시점에 읽은 레지스터 값이 다를 때 basic block을 실행시켰다. <br>
basic block의 실행이 끝났을 때에도 동일한 방법을 적용하여 우선 시작과 끝의 싱크를 맞췄다.

<br><br>

### 그 외 한 일
* 내장형 수업 프로젝트 제안서 썼다. 결론적으로는 이때 쓴 제안서의 내용과 다른 주제를 하게 됐지만 오히려 잘 된 일이다.

* 논리설계 실습 조교를 했다. 내가 학부생이라면 피할 수 있다면 피했을 것 같은 수업이다. 그리고 프로젝트 Q&A를 또 진행했다. 시간 잘 간다.

* 조교 일 끝내고 또 어셈블리 코드 들여다 봤다. 동기랑 같이 코드 보다가 싱크 문제 해결했다.
